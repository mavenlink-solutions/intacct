module Intacct
  module Models
    class <%= @class_name %> < Intacct::Base
      <% @attribute_keys.each do |name, values| %>
        <%= name %> = <%= values %>
    <% end %>

      <%- if @create_attributes.present? -%>
      def create_xml(xml)
        <%- @create_attributes.sequence.each do |attr| -%>
          <%= attr.to_ruby(model: @create_attributes.name, legacy_endpoint: @create_legacy_endpoint) %>
        <%- end -%>
      end
      <%- end -%>

      <%- if @update_attributes.present? -%>
        def update_xml(xml)
          <%- if @identical -%>
            create_xml(xml)
          <%- else -%>
            <%- @update_attributes.sequence.each do |attr| -%>
              <%= attr.to_ruby(model: @update_attributes.name, legacy_endpoint: @update_legacy_endpoint) %>
            <%- end -%>
          <%- end -%>
        end
      <%- end -%>
    end
  end
end
